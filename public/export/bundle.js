!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t),i.d(t,"initialize",(function(){return B}));class n{awakeAddContainer(){return document.getElementById("addContainer").style.visibility="visible"}hideAddContainer(){return document.getElementById("addContainer").style.visibility="hidden"}awakeSearchContainer(){return document.getElementById("searchContainer").style.visibility="visible"}hideSearchContainer(){return document.getElementById("searchContainer").style.visibility="hidden"}awakeFavoritesContainer(){return document.getElementById("favoriteMoviesContainer").style.visibility="visible"}hideFavoritesContainer(){return document.getElementById("favoriteMoviesContainer").style.visibility="hidden"}}class o{constructor(e,t,i,n,o){this.id=e,this.tooltipId="t"+e,this.title=t,this.year=i,this.genres=n,this.poster_path=o}}var r=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};class a{getGenreNames(e){return r(this,void 0,void 0,(function*(){let t=yield fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e73cc9a1d35973b3e89a34bba502663c");const i=[];if(t.ok){const n=(yield t.json()).genres;console.log(e),n.forEach(t=>{e.forEach(e=>{t.id===e&&i.push(t.name)})})}return i}))}}class s{constructor(e,t){this.id=e,this.favoritesButtonId="f"+e,this.favoritesButtonState=t}}class l{createMoviePackage(e,t){const i={id:e.id,tooltipId:e.tooltipId,title:e.title,year:e.year,genres:e.genres,poster_path:e.poster_path,favoritesButtonId:t.favoritesButtonId,favoritesButtonState:t.favoritesButtonState};return JSON.stringify(i)}unpackMoviePackage(){const e=[];for(let t=0;t<localStorage.length;t++){console.log(localStorage);let i=localStorage.key(t),n=localStorage.getItem(i),o=JSON.parse(n);e.push(o)}return e}addToStorage(e,t){const i=this.createMoviePackage(e,t),n=JSON.stringify(e.id);localStorage.setItem(""+n,""+i)}removeFromStorage(e){const t=JSON.stringify(e.id);localStorage.removeItem(""+t)}}var c=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};class d{constructor(){this.movieGenreServices=new a,this.localStorageService=new l}createTooltipData(e){return c(this,void 0,void 0,(function*(){if(e.genres){return new o(e.id,e.title,e.year,e.genres,e.poster_path)}{const t=yield this.movieGenreServices.getGenreNames(e.genre_ids),i=e.release_date.split("-")[0];return new o(e.id,e.title,i,t,e.poster_path)}}))}createTooltip(e,t){const i=document.getElementById(""+e.id),n=document.createElement("div"),o=document.createElement("h3"),r=document.createElement("h3"),a=document.createElement("button"),s=document.createElement("img");i.append(n),n.setAttribute("class","tooltip"),n.setAttribute("id",""+e.tooltipId),n.appendChild(o),n.appendChild(r),n.appendChild(a),a.appendChild(s),o.setAttribute("class","tooltipText"),r.setAttribute("class","tooltipText"),o.innerHTML=e.title,r.innerHTML=e.year,e.genres.forEach(e=>{let t=document.createElement("h3");n.appendChild(t),t.setAttribute("class","tooltipText"),t.setAttribute("class","thinText"),t.innerHTML=e}),a.setAttribute("class","favoritesButton"),a.setAttribute("id",""+t.favoritesButtonId),!1===t.favoritesButtonState?s.setAttribute("src","../Assets/img_387724.png"):s.setAttribute("src","../Assets/Gold_Star.svg.png"),s.setAttribute("class","favoriteButtonStar")}showTooltip(e,t){const i=document.getElementById(e.tooltipId);let n=i.getBoundingClientRect(),o=t.y-n.height+t.height/2+window.scrollY,r=t.x+t.width/2-n.width/2;i.style.top=""+o,i.style.left=""+r,i.style.visibility="visible"}hideTooltip(e){document.getElementById(e.tooltipId).style.visibility="hidden"}createFavoritesButton(e,t){return new s(e,t)}showFavoritesButton(e,t,i){let n=document.getElementById("t"+t.id).getBoundingClientRect();const o=document.getElementById(t.favoritesButtonId);o.style.top=""+(n.height+i.height/2-55),o.style.left=""+(n.width/2+i.width/2-25),o.style.visibility="visible",o.addEventListener("click",i=>{this.toggleFavoritesButton(e,t)})}hideFavoritesButton(e){document.getElementById(e.favoritesButtonId).style.visibility="hidden"}toggleFavoritesButton(e,t){const i=document.getElementById(t.favoritesButtonId).firstChild;return!0===t.favoritesButtonState?(this.localStorageService.addToStorage(e,t),void i.setAttribute("src","../Assets/Gold_Star.svg.png")):(this.localStorageService.removeFromStorage(e),void i.setAttribute("src","../Assets/img_387724.png"))}}var u=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};class h{splitNames(e){return e.split(", ")}}var v=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};class g{constructor(){this.movieTitleUrl="https://api.themoviedb.org/3/search/movie?api_key=e73cc9a1d35973b3e89a34bba502663c",this.actorUrl="https://api.themoviedb.org/3/search/person?api_key=e73cc9a1d35973b3e89a34bba502663c",this.categoryUrl="https://api.themoviedb.org/3/genre/movie/list?api_key=e73cc9a1d35973b3e89a34bba502663c",this.globalUrl="",this.discoverUrl="https://api.themoviedb.org/3/discover/movie?api_key=e73cc9a1d35973b3e89a34bba502663c",this.stringUtils=new h}init(){this.globalUrl="",this.globalUrl=this.globalUrl.concat(this.discoverUrl)}appendActorsIfDefined(e){return v(this,void 0,void 0,(function*(){if(e)try{let t=this.stringUtils.splitNames(e),i=[];for(let e=0;e<t.length;e++){let n=encodeURIComponent(t[e]);const o=yield fetch(`${this.actorUrl}&query=${n}`);if(o.ok){let e=yield o.json();i.push(e.results[0].id)}}i.toString(),this.globalUrl=this.globalUrl.concat("&with_cast="+i)}catch(e){console.log(e)}}))}appendCategoryIfDefined(e){return v(this,void 0,void 0,(function*(){if(e)try{const t=[],i=yield fetch(""+this.categoryUrl),n=this.stringUtils.splitNames(e);if(i.ok){(yield i.json()).genres.forEach(e=>{n.forEach(i=>{e.name.toLowerCase()===i&&t.push(e.id)})})}0!==t.length&&(this.globalUrl=this.globalUrl.concat("&with_genres="+t),console.log("Global url",this.globalUrl))}catch(e){console.log(e)}}))}appendYearIfDefined(e){e&&(this.globalUrl=this.globalUrl.concat("&year="+e))}appendRatingIfDefined(e){e&&(this.globalUrl=this.globalUrl.concat("&vote_average.gte="+e))}getGlobalUrl(){return this.globalUrl!==this.discoverUrl?this.globalUrl:void 0}}var p=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};var m=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};const f=new class{constructor(){this.movieTitleUrl="https://api.themoviedb.org/3/search/movie",this.apiKey="e73cc9a1d35973b3e89a34bba502663c",this.urlBuilderService=new g}searchTitle(e){return p(this,void 0,void 0,(function*(){try{let t=encodeURIComponent(e),i=`${this.movieTitleUrl}?api_key=${this.apiKey}&query=${t}`;const n=yield fetch(i);if(n.ok){return(yield n.json()).results}throw new Error("Request failed!")}catch(e){console.log(e)}}))}search(e,t,i,n){return p(this,void 0,void 0,(function*(){try{this.urlBuilderService.init(),yield this.urlBuilderService.appendYearIfDefined(e),yield this.urlBuilderService.appendRatingIfDefined(t),yield this.urlBuilderService.appendActorsIfDefined(i),yield this.urlBuilderService.appendCategoryIfDefined(n);const o=yield this.urlBuilderService.getGlobalUrl();if(!o)return[];const r=yield fetch(o);if(r.ok){return(yield r.json()).results}}catch(e){console.log(e)}}))}},y=new class{constructor(){this.body=document.body,this.tooltipServices=new d}noResult(){const e=document.body,t=document.createElement("h1");e.appendChild(t),t.setAttribute("id","noResultsMessage"),t.innerHTML="No movies match your search!"}build(e,t){return u(this,void 0,void 0,(function*(){const i=this.returnMaxLength(e,t),n=document.getElementById("body"),o=document.createElement("div");n.appendChild(o),o.setAttribute("class","movieResults");for(let t=0;t<i.titleMaxLenght;t++){const i=yield this.tooltipServices.createTooltipData(e[t]),n=this.tooltipServices.createFavoritesButton(i.movieId,!1);console.log(n),this.buildMovieCard(i,n,"movieResults")}for(let t=0;t<i.searchResultsMaxLength;t++){const i=yield this.tooltipServices.createTooltipData(e[t]),n=this.tooltipServices.createFavoritesButton(i.movieId,!1);this.buildMovieCard(i,n,"movieResults")}}))}buildMovieCard(e,t,i){console.log("build movie card");const n=document.querySelector("."+i),o=document.createElement("div"),r=document.createElement("img"),a=document.createElement("H1"),s=e.id;o.setAttribute("class","movieContainer"),o.setAttribute("id",""+s),n.appendChild(o),o.appendChild(r),o.appendChild(a),r.setAttribute("class","moviePoster"),a.setAttribute("class","movieTitle"),e.poster_path?r.setAttribute("src","https://image.tmdb.org/t/p/original/"+e.poster_path):r.setAttribute("src","https://mymdb.comyn.pw/img/posters/noposter.jpg"),a.innerHTML=e.title+" ",this.tooltipServices.createTooltip(e,t);const l=document.getElementById(t.favoritesButtonId);o.addEventListener("mouseenter",t=>{const i=t.target.getBoundingClientRect();this.tooltipServices.showTooltip(e,i)}),o.addEventListener("mouseenter",i=>{const n=i.target.getBoundingClientRect();this.tooltipServices.showFavoritesButton(e,t,n)}),l.addEventListener("click",i=>{!1===t.favoritesButtonState?t.favoritesButtonState=!0:t.favoritesButtonState=!1,this.tooltipServices.toggleFavoritesButton(e,t)}),o.addEventListener("mouseleave",t=>{this.tooltipServices.hideTooltip(e)}),o.addEventListener("mouseleave",e=>{this.tooltipServices.hideFavoritesButton(t)})}returnMaxLength(e,t){return e.length>10&&t.length>10?{titleMaxLenght:10,searchResultsMaxLength:10}:e.length<10&&t.length>10?{titleMaxLenght:e.length,searchResultsMaxLength:20-e.length}:e.length>10&&t.length<10?{titleMaxLenght:20-t.length,searchResultsMaxLength:t.length}:e.length<10&&t.length<10?{titleMaxLenght:e.length,searchResultsMaxLength:t.length}:(e.length=0)?(t.length=0)?{titleMaxLenght:0,searchResultsMaxLength:0}:t.length>20?{titleMaxLenght:0,searchResultsMaxLength:20}:{titleMaxLenght:0,searchResultsMaxLength:t.length}:(t.length=0)?e.length>20?{titleMaxLenght:20,searchResultsMaxLength:0}:{titleMaxLenght:e.length,searchResultsMaxLength:0}:void 0}},b=new d,S=new l,w=new class{constructor(){}clean(){let e=document.querySelector(".movieResults");e&&e.remove();let t=document.getElementById("noResultsMessage");t&&t.remove();let i=document.querySelector(".favoriteMovies"),n=i.lastElementChild;for(;n;)i.removeChild(n),n=i.lastElementChild}search(){return m(this,void 0,void 0,(function*(){try{let e=document.getElementById("searchTitleInput").value,t=document.getElementById("searchYearInput").value,i=document.getElementById("searchCategoryInput").value,n=document.getElementById("searchRatingInput").value,o=document.getElementById("searchActorsInput").value;if(e||t||i||n||o)if(e)if(t||i||n||o){let r=yield f.searchTitle(e);const a=yield f.search(t,n,o,i);y.build(r,a)}else{let t=yield f.searchTitle(e);0===t.length?y.noResult():y.build(t,[])}else{const e=yield f.search(t,n,o,i);console.log(e),0===e.length?y.noResult():y.build([],e)}else y.noResult();(class{static clearInputs(e){e.forEach(e=>{document.getElementById(e).value=""})}}).clearInputs(["searchTitleInput","searchYearInput","searchCategoryInput","searchRatingInput","searchActorsInput"])}catch(e){console.log(e)}}))}favorites(){return m(this,void 0,void 0,(function*(){const e=S.unpackMoviePackage();if(0===e.length)y.noResult();else for(let t=0;t<e.length;t++){const i=yield b.createTooltipData(e[t]),n=b.createFavoritesButton(e[t].movieId,e[t].favoritesButtonState);y.buildMovieCard(i,n,"favoriteMovies")}}))}};const B=(new class{constructor(){this.awakeHideContainer=new n}intialize(){document.querySelector("#searchButton").addEventListener("click",w.search),document.querySelector("#searchPage").addEventListener("click",this.awakeHideContainer.hideAddContainer),document.querySelector("#searchPage").addEventListener("click",this.awakeHideContainer.hideFavoritesContainer),document.querySelector("#searchPage").addEventListener("click",this.awakeHideContainer.awakeSearchContainer),document.querySelector("#searchPage").addEventListener("click",this.awakeHideContainer.awakeSearchContainer),document.querySelector("#searchPage").addEventListener("click",w.clean),document.querySelector("#addMoviePage").addEventListener("click",this.awakeHideContainer.awakeAddContainer),document.querySelector("#addMoviePage").addEventListener("click",this.awakeHideContainer.hideSearchContainer),document.querySelector("#addMoviePage").addEventListener("click",this.awakeHideContainer.hideFavoritesContainer),document.querySelector("#addMoviePage").addEventListener("click",w.clean),document.querySelector("#favoriteMoviePage").addEventListener("click",this.awakeHideContainer.hideAddContainer),document.querySelector("#favoriteMoviePage").addEventListener("click",this.awakeHideContainer.hideSearchContainer),document.querySelector("#favoriteMoviePage").addEventListener("click",this.awakeHideContainer.awakeFavoritesContainer),document.querySelector("#favoriteMoviePage").addEventListener("click",w.clean),document.querySelector("#favoriteMoviePage").addEventListener("click",w.favorites)}}).intialize()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL1NlcnZpY2VzL2F3YWtlLWhpZGUudHMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL01vZGVsL3Rvb2x0aXAudHMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL1NlcnZpY2VzL21vdmllLWdlbnJlLXNlcnZpY2VzLnRzIiwid2VicGFjazovLy8uL3B1YmxpYy9Nb2RlbC9mYXZvcml0ZXMtYnV0dG9uLnRzIiwid2VicGFjazovLy8uL3B1YmxpYy9TZXJ2aWNlcy9sb2NhbC1zdG9yYWdlLXNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL1NlcnZpY2VzL3Rvb2x0aXAtc2VydmljZXMudHMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL1NlcnZpY2VzL3N0cmluZy11dGlscy50cyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvU2VydmljZXMvdXJsLWJ1aWxkZXItc2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvU2VydmljZXMvY3JlYXRlLXNlcnZpY2VzLnRzIiwid2VicGFjazovLy8uL3B1YmxpYy9TZXJ2aWNlcy9zZWFyY2gtc2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvU2VydmljZXMvcmVzdWx0LWJ1aWxkZXItc2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvQ29udHJvbGxlcnMvbW92aWUtY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvU2VydmljZXMvZG9tVXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL1ZpZXcvYXBwLWluaXRpYWxpemF0aW9uLXNlcnZpY2UudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBd2FrZUhpZGVDb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiVG9vbHRpcCIsImlkIiwibW92aWVUaXRsZSIsInllYXIiLCJnZW5yZXMiLCJwb3N0ZXJQYXRoIiwidGhpcyIsInRvb2x0aXBJZCIsInRpdGxlIiwicG9zdGVyX3BhdGgiLCJNb3ZpZUdlbnJlU2VydmljZXMiLCJpZHMiLCJyZXN1bHQiLCJmZXRjaCIsImdlbnJlTmFtZXMiLCJvayIsImdlbnJlTGlzdCIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiZm9yRWFjaCIsImVsZW0iLCJlbGVtZW50IiwicHVzaCIsIkZhdm9yaXRlc0J1dHRvbiIsIm1vdmllSWQiLCJzdGF0ZSIsImZhdm9yaXRlc0J1dHRvbklkIiwiZmF2b3JpdGVzQnV0dG9uU3RhdGUiLCJMb2NhbFN0b3JhZ2VTZXJ2aWNlIiwidG9vbHRpcE9iamVjdCIsImZhdm9yaXRlc0J1dHRvbk9iamVjdCIsIm1vdmllU3BlY3MiLCJKU09OIiwic3RyaW5naWZ5IiwiZmF2b3JpdGVNb3ZpZXMiLCJsb2NhbFN0b3JhZ2UiLCJsZW5ndGgiLCJtb3ZpZVNwZWNzU3RyaW5nIiwiZ2V0SXRlbSIsInBhcnNlIiwibW92aWVQYWNrIiwiY3JlYXRlTW92aWVQYWNrYWdlIiwibW92aWVJZFN0cmluZyIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwibW92aWVHZW5yZVNlcnZpY2VzIiwibG9jYWxTdG9yYWdlU2VydmljZSIsImdldEdlbnJlTmFtZXMiLCJnZW5yZV9pZHMiLCJyZWxlYXNlX2RhdGUiLCJzcGxpdCIsIm1vdmllQ29udGFpbmVyIiwidG9vbHRpcCIsImNyZWF0ZUVsZW1lbnQiLCJidXR0b24iLCJidXR0b25JbWFnZSIsImFwcGVuZCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiZ2VucmUiLCJpbWdSZWN0IiwidG9vbHRpcFJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b29sdGlwVG9wIiwieSIsImhlaWdodCIsIndpbmRvdyIsInNjcm9sbFkiLCJ0b29sdGlwTGVmdCIsIngiLCJ3aWR0aCIsInRvcCIsImxlZnQiLCJmYXZvcml0ZXNCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInRvZ2dsZUZhdm9yaXRlc0J1dHRvbiIsImZhdm9yaXRlc0J1dHRvblN0YXIiLCJmaXJzdENoaWxkIiwiYWRkVG9TdG9yYWdlIiwicmVtb3ZlRnJvbVN0b3JhZ2UiLCJTdHJpbmdVdGlscyIsInN0cmluZ09mTmFtZXMiLCJtb3ZpZVRpdGxlVXJsIiwiYWN0b3JVcmwiLCJjYXRlZ29yeVVybCIsImdsb2JhbFVybCIsImRpc2NvdmVyVXJsIiwic3RyaW5nVXRpbHMiLCJjb25jYXQiLCJhY3RvcnMiLCJhY3RvcnNBcnJheSIsInNwbGl0TmFtZXMiLCJhY3RvcnNJZHMiLCJlbmNvZGVkQWN0b3JzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzdWx0cyIsImpzb25SZXN1bHRzIiwidG9TdHJpbmciLCJlcnJvciIsImNhdGVnb3J5IiwiY2F0ZWdvcnlJZHMiLCJjYXRlZ29yaWVzIiwidG9Mb3dlckNhc2UiLCJyYXRpbmciLCJzZWFyY2hTZXJ2aWNlIiwiYXBpS2V5IiwidXJsQnVpbGRlclNlcnZpY2UiLCJlbmNvZGVkTW92aWVUaXRsZSIsImVuZHBvaW50TW92aWVUaXRsZSIsInRpdGxlUmVzdWx0cyIsIkVycm9yIiwiaW5pdCIsImFwcGVuZFllYXJJZkRlZmluZWQiLCJhcHBlbmRSYXRpbmdJZkRlZmluZWQiLCJhcHBlbmRBY3RvcnNJZkRlZmluZWQiLCJhcHBlbmRDYXRlZ29yeUlmRGVmaW5lZCIsInVybCIsImdldEdsb2JhbFVybCIsInJlc3VsdEJ1aWxkZXJTZXJ2aWNlIiwiYm9keSIsInRvb2x0aXBTZXJ2aWNlcyIsIm5vUmVzdWx0cyIsInNlYXJjaFJlc3VsdHMiLCJtYXhMZW5ndGgiLCJyZXR1cm5NYXhMZW5ndGgiLCJtb3ZpZVJlc3VsdHMiLCJ0aXRsZU1heExlbmdodCIsImNyZWF0ZVRvb2x0aXBEYXRhIiwiY3JlYXRlRmF2b3JpdGVzQnV0dG9uIiwiYnVpbGRNb3ZpZUNhcmQiLCJqIiwic2VhcmNoUmVzdWx0c01heExlbmd0aCIsInBhcmVudENvbnRhaW5lck5hbWUiLCJxdWVyeVNlbGVjdG9yIiwiaW1nIiwiaDEiLCJjcmVhdGVUb29sdGlwIiwiZXZlbnQiLCJ0YXJnZXQiLCJzaG93VG9vbHRpcCIsInNob3dGYXZvcml0ZXNCdXR0b24iLCJoaWRlVG9vbHRpcCIsImhpZGVGYXZvcml0ZXNCdXR0b24iLCJsb2NhbFN0b3JhZ2VTZXJ2aWNlcyIsIm1vdmllQ29udHJvbGxlciIsInJlbW92ZSIsIm5vUmVzdWx0c01lc3NhZ2UiLCJjaGlsZCIsImxhc3RFbGVtZW50Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInNlYXJjaFRpdGxlIiwic2VhcmNoIiwiYnVpbGQiLCJub1Jlc3VsdCIsImlucHV0SWRzIiwiaW5wdXRJZCIsImNsZWFySW5wdXRzIiwidW5wYWNrTW92aWVQYWNrYWdlIiwiZmF2b3JpdGVCdXR0b25PYmplY3QiLCJpbml0aWFsaXplIiwiYXdha2VIaWRlQ29udGFpbmVyIiwiaGlkZUFkZENvbnRhaW5lciIsImhpZGVGYXZvcml0ZXNDb250YWluZXIiLCJhd2FrZVNlYXJjaENvbnRhaW5lciIsImNsZWFuIiwiYXdha2VBZGRDb250YWluZXIiLCJoaWRlU2VhcmNoQ29udGFpbmVyIiwiYXdha2VGYXZvcml0ZXNDb250YWluZXIiLCJmYXZvcml0ZXMiLCJpbnRpYWxpemUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9C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bUJBQW1CRSx3QkFDeEZ6SyxTQUFTNEksY0FBYyxlQUFlNUQsaUJBQWlCLFFBQVN0RSxLQUFLNkosbUJBQW1CRyxzQkFDeEYxSyxTQUFTNEksY0FBYyxlQUFlNUQsaUJBQWlCLFFBQVN0RSxLQUFLNkosbUJBQW1CRyxzQkFDeEYxSyxTQUFTNEksY0FBYyxlQUFlNUQsaUJBQWlCLFFBQVN1RSxFQUFnQm9CLE9BRWhGM0ssU0FBUzRJLGNBQWMsaUJBQWlCNUQsaUJBQWlCLFFBQVN0RSxLQUFLNkosbUJBQW1CSyxtQkFDMUY1SyxTQUFTNEksY0FBYyxpQkFBaUI1RCxpQkFBaUIsUUFBU3RFLEtBQUs2SixtQkFBbUJNLHFCQUMxRjdLLFNBQVM0SSxjQUFjLGlCQUFpQjVELGlCQUFpQixRQUFTdEUsS0FBSzZKLG1CQUFtQkUsd0JBQzFGekssU0FBUzRJLGNBQWMsaUJBQWlCNUQsaUJBQWlCLFFBQVN1RSxFQUFnQm9CLE9BRWxGM0ssU0FBUzRJLGNBQWMsc0JBQXNCNUQsaUJBQWlCLFFBQVN0RSxLQUFLNkosbUJBQW1CQyxrQkFDL0Z4SyxTQUFTNEksY0FBYyxzQkFBc0I1RCxpQkFBaUIsUUFBU3RFLEtBQUs2SixtQkFBbUJNLHFCQUMvRjdLLFNBQVM0SSxjQUFjLHNCQUFzQjVELGlCQUFpQixRQUFTdEUsS0FBSzZKLG1CQUFtQk8seUJBQy9GOUssU0FBUzRJLGNBQWMsc0JBQXNCNUQsaUJBQWlCLFFBQVN1RSxFQUFnQm9CLE9BQ3ZGM0ssU0FBUzRJLGNBQWMsc0JBQXNCNUQsaUJBQWlCLFFBQVN1RSxFQUFnQndCLGNBT3RDQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY2xhc3MgQXdha2VIaWRlQ29udGFpbmVyIHtcclxuICAgIGF3YWtlQWRkQ29udGFpbmVyICgpe1xyXG4gICAgICAgIGNvbnN0IGF3YWtlSXRlbTpIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRDb250YWluZXInKTtcclxuICAgICAgICByZXR1cm4gYXdha2VJdGVtLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcclxuICAgIH1cclxuICAgIGhpZGVBZGRDb250YWluZXIgKCl7XHJcbiAgICAgICAgY29uc3QgaGlkZUl0ZW06IEhUTUxFbGVtZW50PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkQ29udGFpbmVyJyk7XHJcbiAgICAgICAgcmV0dXJuIGhpZGVJdGVtLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG4gICAgfVxyXG4gICAgYXdha2VTZWFyY2hDb250YWluZXIgKCl7XHJcbiAgICAgICAgY29uc3QgYXdha2VJdGVtOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hDb250YWluZXInKTtcclxuICAgICAgICByZXR1cm4gYXdha2VJdGVtLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcclxuICAgIH1cclxuICAgIGhpZGVTZWFyY2hDb250YWluZXIgKCl7XHJcbiAgICAgICAgY29uc3QgaGlkZUl0ZW06IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaENvbnRhaW5lcicpO1xyXG4gICAgICAgIHJldHVybiBoaWRlSXRlbS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuICAgIH1cclxuICAgIGF3YWtlRmF2b3JpdGVzQ29udGFpbmVyICgpe1xyXG4gICAgICAgIGNvbnN0IGF3YWtlSXRlbTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmF2b3JpdGVNb3ZpZXNDb250YWluZXInKTtcclxuICAgICAgICByZXR1cm4gYXdha2VJdGVtLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcclxuICAgIH1cclxuICAgIGhpZGVGYXZvcml0ZXNDb250YWluZXIgKCl7XHJcbiAgICAgICAgY29uc3QgaGlkZUl0ZW06IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zhdm9yaXRlTW92aWVzQ29udGFpbmVyJyk7XHJcbiAgICAgICAgcmV0dXJuIGhpZGVJdGVtLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJcclxuZXhwb3J0IGNsYXNzIFRvb2x0aXAge1xyXG4gICAgaWQ6bnVtYmVyO1xyXG4gICAgdG9vbHRpcElkOnN0cmluZztcclxuICAgIHRpdGxlOnN0cmluZztcclxuICAgIHllYXI6c3RyaW5nO1xyXG4gICAgZ2VucmVzOkFycmF5PHN0cmluZz47XHJcbiAgICBwb3N0ZXJfcGF0aDpzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDpudW1iZXIsIG1vdmllVGl0bGU6c3RyaW5nLCB5ZWFyOnN0cmluZywgZ2VucmVzOkFycmF5PHN0cmluZz4sIHBvc3RlclBhdGg6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy50b29sdGlwSWQgPSBgdCR7aWR9YDtcclxuICAgICAgICB0aGlzLnRpdGxlID0gbW92aWVUaXRsZTtcclxuICAgICAgICB0aGlzLnllYXIgPSB5ZWFyO1xyXG4gICAgICAgIHRoaXMuZ2VucmVzID0gZ2VucmVzO1xyXG4gICAgICAgIHRoaXMucG9zdGVyX3BhdGggPSBwb3N0ZXJQYXRoO1xyXG4gICAgICAgIC8vIHRoaXMuZmF2b3JpdGVzQnV0dG9uSWQgPSBgZiR7aWR9YDtcclxuICAgICAgICAvLyB0aGlzLmZhdm9yaXRlc0J1dHRvblN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgLy8gdGhpcy5mYXZvcml0ZXNCdXR0b25TcmMgPSAnJ1xyXG4gICAgICAgIFxyXG5cclxuICAgIH1cclxuICAgIFxyXG59IiwiZXhwb3J0IGNsYXNzIE1vdmllR2VucmVTZXJ2aWNlcyB7XHJcbiAgICBhc3luYyBnZXRHZW5yZU5hbWVzIChpZHM6QXJyYXk8bnVtYmVyPil7XHJcbiAgICAgICAgbGV0IHVybDpzdHJpbmcgPSAnaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9nZW5yZS9tb3ZpZS9saXN0P2FwaV9rZXk9ZTczY2M5YTFkMzU5NzNiM2U4OWEzNGJiYTUwMjY2M2MnO1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBmZXRjaCh1cmwpO1xyXG4gICAgICAgIGNvbnN0IGdlbnJlTmFtZXM6QXJyYXk8c3RyaW5nPiA9IFtdO1xyXG4gICAgICAgIGlmIChyZXN1bHQub2spIHtcclxuICAgICAgICAgICAgY29uc3QganNvblJlc3VsdDphbnkgPSBhd2FpdCByZXN1bHQuanNvbigpO1xyXG4gICAgICAgICAgICBjb25zdCBnZW5yZUxpc3Q6QXJyYXk8YW55Pj0ganNvblJlc3VsdC5nZW5yZXM7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlkcylcclxuICAgICAgICAgICAgZ2VucmVMaXN0LmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5pZCA9PT0gZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5yZU5hbWVzLnB1c2goZWxlbS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnZW5yZU5hbWVzO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEZhdm9yaXRlc0J1dHRvbiB7XHJcbiAgICBpZDpudW1iZXI7XHJcbiAgICBmYXZvcml0ZXNCdXR0b25JZDpzdHJpbmc7XHJcbiAgICBmYXZvcml0ZXNCdXR0b25TdGF0ZTpib29sZWFuO1xyXG4gICAgY29uc3RydWN0b3IgKG1vdmllSWQ6bnVtYmVyLCBzdGF0ZTpib29sZWFuKXtcclxuICAgICAgICB0aGlzLmlkID0gbW92aWVJZFxyXG4gICAgICAgIHRoaXMuZmF2b3JpdGVzQnV0dG9uSWQgPSBgZiR7bW92aWVJZH1gO1xyXG4gICAgICAgIHRoaXMuZmF2b3JpdGVzQnV0dG9uU3RhdGUgPSBzdGF0ZSA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZXN1bHRzIH0gZnJvbSBcIi4uL01vZGVsL3Jlc3VsdHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2NhbFN0b3JhZ2VTZXJ2aWNlIHtcclxuICAgIGNyZWF0ZU1vdmllUGFja2FnZSAodG9vbHRpcE9iamVjdDpQYXJ0aWFsPFJlc3VsdHM+LCBmYXZvcml0ZXNCdXR0b25PYmplY3Q6UGFydGlhbDxSZXN1bHRzPik6c3RyaW5ne1xyXG4gICAgICAgIGNvbnN0IG1vdmllU3BlY3M6UGFydGlhbDxSZXN1bHRzPiA9IHtcclxuICAgICAgICAgICAgaWQ6IHRvb2x0aXBPYmplY3QuaWQsXHJcbiAgICAgICAgICAgIHRvb2x0aXBJZDogdG9vbHRpcE9iamVjdC50b29sdGlwSWQsXHJcbiAgICAgICAgICAgIHRpdGxlOiB0b29sdGlwT2JqZWN0LnRpdGxlLFxyXG4gICAgICAgICAgICB5ZWFyOiB0b29sdGlwT2JqZWN0LnllYXIsXHJcbiAgICAgICAgICAgIGdlbnJlczogdG9vbHRpcE9iamVjdC5nZW5yZXMsXHJcbiAgICAgICAgICAgIHBvc3Rlcl9wYXRoOiB0b29sdGlwT2JqZWN0LnBvc3Rlcl9wYXRoLFxyXG4gICAgICAgICAgICBmYXZvcml0ZXNCdXR0b25JZDogZmF2b3JpdGVzQnV0dG9uT2JqZWN0LmZhdm9yaXRlc0J1dHRvbklkLFxyXG4gICAgICAgICAgICBmYXZvcml0ZXNCdXR0b25TdGF0ZTogZmF2b3JpdGVzQnV0dG9uT2JqZWN0LmZhdm9yaXRlc0J1dHRvblN0YXRlXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBtb3ZpZVNwZWNzU3RyaW5nOnN0cmluZyA9IEpTT04uc3RyaW5naWZ5KG1vdmllU3BlY3MpO1xyXG4gICAgICAgIHJldHVybiBtb3ZpZVNwZWNzU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHVucGFja01vdmllUGFja2FnZSAoKXtcclxuICAgICAgICBjb25zdCBmYXZvcml0ZU1vdmllcyA6QXJyYXk8YW55Pj0gW11cclxuICAgICAgICBmb3IgKGxldCBpOm51bWJlciA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlKVxyXG4gICAgICAgICAgICBsZXQga2V5OnN0cmluZyA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XHJcbiAgICAgICAgICAgIGxldCBtb3ZpZVNwZWNzU3RyaW5nOnN0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIGxldCBtb3ZpZVNwZWNzOmFueSA9IEpTT04ucGFyc2UobW92aWVTcGVjc1N0cmluZyk7XHJcbiAgICAgICAgICAgIGZhdm9yaXRlTW92aWVzLnB1c2gobW92aWVTcGVjcyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmF2b3JpdGVNb3ZpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkVG9TdG9yYWdlICh0b29sdGlwT2JqZWN0OlBhcnRpYWw8UmVzdWx0cz4sIGZhdm9yaXRlc0J1dHRvbk9iamVjdDpQYXJ0aWFsPFJlc3VsdHM+KTp2b2lke1xyXG4gICAgICAgIGNvbnN0IG1vdmllUGFjazpzdHJpbmcgPSB0aGlzLmNyZWF0ZU1vdmllUGFja2FnZSh0b29sdGlwT2JqZWN0LGZhdm9yaXRlc0J1dHRvbk9iamVjdClcclxuICAgICAgICBjb25zdCBtb3ZpZUlkU3RyaW5nOnN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHRvb2x0aXBPYmplY3QuaWQpO1xyXG4gICAgICAgXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7bW92aWVJZFN0cmluZ31gLCBgJHttb3ZpZVBhY2t9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRnJvbVN0b3JhZ2UodG9vbHRpcE9iamVjdDpQYXJ0aWFsPFJlc3VsdHM+KTp2b2lke1xyXG4gICAgICAgIGNvbnN0IG1vdmllSWRTdHJpbmc6c3RyaW5nID0gSlNPTi5zdHJpbmdpZnkodG9vbHRpcE9iamVjdC5pZCk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYCR7bW92aWVJZFN0cmluZ31gKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFRvb2x0aXAgfSBmcm9tIFwiLi4vTW9kZWwvdG9vbHRpcFwiO1xyXG5pbXBvcnQgeyBNb3ZpZUdlbnJlU2VydmljZXMgfSBmcm9tIFwiLi9tb3ZpZS1nZW5yZS1zZXJ2aWNlc1wiO1xyXG5pbXBvcnQgeyBGYXZvcml0ZXNCdXR0b24gfSBmcm9tIFwiLi4vTW9kZWwvZmF2b3JpdGVzLWJ1dHRvblwiO1xyXG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSBcIi4vbG9jYWwtc3RvcmFnZS1zZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFJlc3VsdHMgfSBmcm9tIFwiLi4vTW9kZWwvcmVzdWx0c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRvb2x0aXBTZXJ2aWNlcyB7XHJcblx0bW92aWVHZW5yZVNlcnZpY2VzOiBhbnk7XHJcblx0bG9jYWxTdG9yYWdlU2VydmljZTogYW55O1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5tb3ZpZUdlbnJlU2VydmljZXMgPSBuZXcgTW92aWVHZW5yZVNlcnZpY2VzKCk7XHJcblx0XHR0aGlzLmxvY2FsU3RvcmFnZVNlcnZpY2UgPSBuZXcgTG9jYWxTdG9yYWdlU2VydmljZSgpO1xyXG5cdH1cclxuXHRhc3luYyBjcmVhdGVUb29sdGlwRGF0YShyZXN1bHQ6IFBhcnRpYWw8UmVzdWx0cz4pIHtcclxuXHRcdGlmIChyZXN1bHQuZ2VucmVzKSB7XHJcblx0XHRcdGNvbnN0IHRvb2x0aXA6IFBhcnRpYWw8UmVzdWx0cz4gPSBuZXcgVG9vbHRpcChyZXN1bHQuaWQsIHJlc3VsdC50aXRsZSwgcmVzdWx0LnllYXIsIHJlc3VsdC5nZW5yZXMsIHJlc3VsdC5wb3N0ZXJfcGF0aCk7XHJcblx0XHRcdHJldHVybiB0b29sdGlwO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc3QgZ2VucmVzOiBBcnJheTxzdHJpbmc+ID0gYXdhaXQgdGhpcy5tb3ZpZUdlbnJlU2VydmljZXMuZ2V0R2VucmVOYW1lcyhyZXN1bHQuZ2VucmVfaWRzKTtcclxuXHRcdFx0Y29uc3QgeWVhcjogc3RyaW5nID0gcmVzdWx0LnJlbGVhc2VfZGF0ZS5zcGxpdChcIi1cIilbMF07XHJcblx0XHRcdGNvbnN0IHRvb2x0aXA6IFBhcnRpYWw8UmVzdWx0cz4gPSBuZXcgVG9vbHRpcChyZXN1bHQuaWQsIHJlc3VsdC50aXRsZSwgeWVhciwgZ2VucmVzLCByZXN1bHQucG9zdGVyX3BhdGgpO1xyXG5cdFx0XHRyZXR1cm4gdG9vbHRpcDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGNyZWF0ZVRvb2x0aXAodG9vbHRpcE9iamVjdDogUGFydGlhbDxSZXN1bHRzPiwgZmF2b3JpdGVzQnV0dG9uT2JqZWN0OiBQYXJ0aWFsPFJlc3VsdHM+KSB7XHJcblx0XHRjb25zdCBtb3ZpZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0b29sdGlwT2JqZWN0LmlkfWApO1xyXG5cdFx0Y29uc3QgdG9vbHRpcDogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3QgdGl0bGU6IEhUTUxIZWFkaW5nRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcclxuXHRcdGNvbnN0IHllYXI6IEhUTUxIZWFkaW5nRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcclxuXHRcdGNvbnN0IGJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG5cdFx0Y29uc3QgYnV0dG9uSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cclxuXHRcdG1vdmllQ29udGFpbmVyLmFwcGVuZCh0b29sdGlwKTtcclxuXHRcdHRvb2x0aXAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0b29sdGlwXCIpO1xyXG5cdFx0dG9vbHRpcC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBgJHt0b29sdGlwT2JqZWN0LnRvb2x0aXBJZH1gKTtcclxuXHRcdHRvb2x0aXAuYXBwZW5kQ2hpbGQodGl0bGUpO1xyXG5cdFx0dG9vbHRpcC5hcHBlbmRDaGlsZCh5ZWFyKTtcclxuXHRcdHRvb2x0aXAuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcclxuXHRcdGJ1dHRvbi5hcHBlbmRDaGlsZChidXR0b25JbWFnZSk7XHJcblxyXG5cdFx0dGl0bGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0b29sdGlwVGV4dFwiKTtcclxuXHRcdHllYXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0b29sdGlwVGV4dFwiKTtcclxuXHRcdHRpdGxlLmlubmVySFRNTCA9IHRvb2x0aXBPYmplY3QudGl0bGU7XHJcblx0XHR5ZWFyLmlubmVySFRNTCA9IHRvb2x0aXBPYmplY3QueWVhcjtcclxuXHJcblx0XHRsZXQgZ2VucmVzOiBBcnJheTxzdHJpbmc+ID0gdG9vbHRpcE9iamVjdC5nZW5yZXM7XHJcblx0XHRnZW5yZXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG5cdFx0XHRsZXQgZ2VucmU6IEhUTUxIZWFkaW5nRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcclxuXHRcdFx0dG9vbHRpcC5hcHBlbmRDaGlsZChnZW5yZSk7XHJcblx0XHRcdGdlbnJlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidG9vbHRpcFRleHRcIik7XHJcblx0XHRcdGdlbnJlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidGhpblRleHRcIik7XHJcblx0XHRcdGdlbnJlLmlubmVySFRNTCA9IGVsZW1lbnQ7XHJcblx0XHR9KTtcclxuXHJcblx0XHRidXR0b24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJmYXZvcml0ZXNCdXR0b25cIik7XHJcblx0XHRidXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgYCR7ZmF2b3JpdGVzQnV0dG9uT2JqZWN0LmZhdm9yaXRlc0J1dHRvbklkfWApO1xyXG5cclxuXHRcdGlmIChmYXZvcml0ZXNCdXR0b25PYmplY3QuZmF2b3JpdGVzQnV0dG9uU3RhdGUgPT09IGZhbHNlKSB7XHJcblx0XHRcdGJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL0Fzc2V0cy9pbWdfMzg3NzI0LnBuZ1wiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL0Fzc2V0cy9Hb2xkX1N0YXIuc3ZnLnBuZ1wiKTtcclxuXHRcdH1cclxuXHJcblx0XHRidXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImZhdm9yaXRlQnV0dG9uU3RhclwiKTtcclxuXHR9XHJcblxyXG5cdHNob3dUb29sdGlwKHRvb2x0aXBPYmplY3Q6IFBhcnRpYWw8UmVzdWx0cz4sIGltZ1JlY3Q6IGFueSk6IHZvaWQge1xyXG5cdFx0Y29uc3QgdG9vbHRpcDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0b29sdGlwT2JqZWN0LnRvb2x0aXBJZCk7XHJcblx0XHRsZXQgdG9vbHRpcFJlY3Q6IGFueSA9IHRvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG5cdFx0bGV0IHRvb2x0aXBUb3A6IG51bWJlciA9IGltZ1JlY3QueSAtIHRvb2x0aXBSZWN0LmhlaWdodCArIGltZ1JlY3QuaGVpZ2h0IC8gMiArIHdpbmRvdy5zY3JvbGxZO1xyXG5cdFx0bGV0IHRvb2x0aXBMZWZ0OiBudW1iZXIgPSBpbWdSZWN0LnggKyBpbWdSZWN0LndpZHRoIC8gMiAtIHRvb2x0aXBSZWN0LndpZHRoIC8gMjtcclxuXHRcdHRvb2x0aXAuc3R5bGUudG9wID0gYCR7dG9vbHRpcFRvcH1gO1xyXG5cdFx0dG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7dG9vbHRpcExlZnR9YDtcclxuXHRcdHRvb2x0aXAuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG5cdH1cclxuXHJcblx0aGlkZVRvb2x0aXAodG9vbHRpcE9iamVjdDogUGFydGlhbDxSZXN1bHRzPik6IHZvaWQge1xyXG5cdFx0Y29uc3QgdG9vbHRpcDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0b29sdGlwT2JqZWN0LnRvb2x0aXBJZCk7XHJcblx0XHR0b29sdGlwLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG5cdH1cclxuXHJcblx0Y3JlYXRlRmF2b3JpdGVzQnV0dG9uKG1vdmllSWQ6IG51bWJlciwgc3RhdGU6IGJvb2xlYW4pOiBhbnkge1xyXG5cdFx0Y29uc3QgZmF2b3JpdGVzQnV0dG9uOiBhbnkgPSBuZXcgRmF2b3JpdGVzQnV0dG9uKG1vdmllSWQsIHN0YXRlKTtcclxuXHRcdHJldHVybiBmYXZvcml0ZXNCdXR0b247XHJcblx0fVxyXG5cclxuXHRzaG93RmF2b3JpdGVzQnV0dG9uKHRvb2x0aXBPYmplY3Q6IFBhcnRpYWw8UmVzdWx0cz4sIGZhdm9yaXRlc0J1dHRvbk9iamVjdDogUGFydGlhbDxSZXN1bHRzPiwgaW1nUmVjdDogYW55KTogdm9pZCB7XHJcblx0XHRjb25zdCB0b29sdGlwOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0JHtmYXZvcml0ZXNCdXR0b25PYmplY3QuaWR9YCk7XHJcblx0XHRsZXQgdG9vbHRpcFJlY3Q6IGFueSA9IHRvb2x0aXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblx0XHRjb25zdCBmYXZvcml0ZXNCdXR0b246IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmF2b3JpdGVzQnV0dG9uT2JqZWN0LmZhdm9yaXRlc0J1dHRvbklkKTtcclxuXHRcdGZhdm9yaXRlc0J1dHRvbi5zdHlsZS50b3AgPSBgJHt0b29sdGlwUmVjdC5oZWlnaHQgKyBpbWdSZWN0LmhlaWdodCAvIDIgLSA1NX1gO1xyXG5cdFx0ZmF2b3JpdGVzQnV0dG9uLnN0eWxlLmxlZnQgPSBgJHt0b29sdGlwUmVjdC53aWR0aCAvIDIgKyBpbWdSZWN0LndpZHRoIC8gMiAtIDI1fWA7XHJcblx0XHRmYXZvcml0ZXNCdXR0b24uc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG5cclxuXHRcdGZhdm9yaXRlc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdFx0dGhpcy50b2dnbGVGYXZvcml0ZXNCdXR0b24odG9vbHRpcE9iamVjdCwgZmF2b3JpdGVzQnV0dG9uT2JqZWN0KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0aGlkZUZhdm9yaXRlc0J1dHRvbihmYXZvcml0ZXNCdXR0b25PYmplY3Q6IFBhcnRpYWw8UmVzdWx0cz4pOiB2b2lkIHtcclxuXHRcdGNvbnN0IGZhdm9yaXRlc0J1dHRvbjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmYXZvcml0ZXNCdXR0b25PYmplY3QuZmF2b3JpdGVzQnV0dG9uSWQpO1xyXG5cdFx0ZmF2b3JpdGVzQnV0dG9uLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlRmF2b3JpdGVzQnV0dG9uKHRvb2x0aXBPYmplY3Q6IFBhcnRpYWw8UmVzdWx0cz4sIGZhdm9yaXRlc0J1dHRvbk9iamVjdDogUGFydGlhbDxSZXN1bHRzPikge1xyXG5cdFx0Y29uc3QgZmF2b3JpdGVzQnV0dG9uOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZhdm9yaXRlc0J1dHRvbk9iamVjdC5mYXZvcml0ZXNCdXR0b25JZCk7XHJcblx0XHRjb25zdCBmYXZvcml0ZXNCdXR0b25TdGFyOiBDaGlsZE5vZGUgPSBmYXZvcml0ZXNCdXR0b24uZmlyc3RDaGlsZDtcclxuXHJcblx0XHRjb25zdCBzdGF0ZTogYm9vbGVhbiA9IGZhdm9yaXRlc0J1dHRvbk9iamVjdC5mYXZvcml0ZXNCdXR0b25TdGF0ZTtcclxuXHJcblx0XHRpZiAoc3RhdGUgPT09IHRydWUpIHtcclxuXHRcdFx0dGhpcy5sb2NhbFN0b3JhZ2VTZXJ2aWNlLmFkZFRvU3RvcmFnZSh0b29sdGlwT2JqZWN0LCBmYXZvcml0ZXNCdXR0b25PYmplY3QpO1xyXG5cdFx0XHQoZmF2b3JpdGVzQnV0dG9uU3RhciBhcyBIVE1MSW1hZ2VFbGVtZW50KS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuLi9Bc3NldHMvR29sZF9TdGFyLnN2Zy5wbmdcIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMubG9jYWxTdG9yYWdlU2VydmljZS5yZW1vdmVGcm9tU3RvcmFnZSh0b29sdGlwT2JqZWN0KTtcclxuXHJcblx0XHRcdChmYXZvcml0ZXNCdXR0b25TdGFyIGFzIEhUTUxJbWFnZUVsZW1lbnQpLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL0Fzc2V0cy9pbWdfMzg3NzI0LnBuZ1wiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU3RyaW5nVXRpbHMge1xyXG4gICAgc3BsaXROYW1lcyAoc3RyaW5nT2ZOYW1lczpzdHJpbmcpOkFycmF5PHN0cmluZz57XHJcbiAgICAgICAgbGV0IGxpc3RPZkZ1bGxOYW1lczpBcnJheTxzdHJpbmc+ID0gc3RyaW5nT2ZOYW1lcy5zcGxpdCgnLCAnKTtcclxuICAgICAgICBcclxuICAgICAgICAgICByZXR1cm4gbGlzdE9mRnVsbE5hbWVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwiaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tIFwiLi9zdHJpbmctdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVcmxCdWlsZGVyU2VydmljZSB7XHJcblx0bW92aWVUaXRsZVVybDogc3RyaW5nO1xyXG5cdGFjdG9yVXJsOiBzdHJpbmc7XHJcblx0Y2F0ZWdvcnlVcmw6IHN0cmluZztcclxuXHRnbG9iYWxVcmw6IHN0cmluZztcclxuXHRkaXNjb3ZlclVybDogc3RyaW5nO1xyXG5cdHN0cmluZ1V0aWxzOiBhbnk7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLm1vdmllVGl0bGVVcmwgPSBcImh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvc2VhcmNoL21vdmllP2FwaV9rZXk9ZTczY2M5YTFkMzU5NzNiM2U4OWEzNGJiYTUwMjY2M2NcIjtcclxuXHRcdHRoaXMuYWN0b3JVcmwgPSBcImh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvc2VhcmNoL3BlcnNvbj9hcGlfa2V5PWU3M2NjOWExZDM1OTczYjNlODlhMzRiYmE1MDI2NjNjXCI7XHJcblx0XHR0aGlzLmNhdGVnb3J5VXJsID0gXCJodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL2dlbnJlL21vdmllL2xpc3Q/YXBpX2tleT1lNzNjYzlhMWQzNTk3M2IzZTg5YTM0YmJhNTAyNjYzY1wiO1xyXG5cdFx0dGhpcy5nbG9iYWxVcmwgPSBcIlwiO1xyXG5cdFx0dGhpcy5kaXNjb3ZlclVybCA9IFwiaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9kaXNjb3Zlci9tb3ZpZT9hcGlfa2V5PWU3M2NjOWExZDM1OTczYjNlODlhMzRiYmE1MDI2NjNjXCI7XHJcblx0XHR0aGlzLnN0cmluZ1V0aWxzID0gbmV3IFN0cmluZ1V0aWxzKCk7XHJcblx0fVxyXG5cdGluaXQoKTogdm9pZCB7XHJcblx0XHR0aGlzLmdsb2JhbFVybCA9IFwiXCI7XHJcblx0XHR0aGlzLmdsb2JhbFVybCA9IHRoaXMuZ2xvYmFsVXJsLmNvbmNhdCh0aGlzLmRpc2NvdmVyVXJsKTtcclxuXHR9XHJcblx0YXN5bmMgYXBwZW5kQWN0b3JzSWZEZWZpbmVkKGFjdG9yczogc3RyaW5nKSB7XHJcblx0XHRpZiAoYWN0b3JzKSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0bGV0IGFjdG9yc0FycmF5OiBBcnJheTxzdHJpbmc+ID0gdGhpcy5zdHJpbmdVdGlscy5zcGxpdE5hbWVzKGFjdG9ycyk7XHJcblxyXG5cdFx0XHRcdGxldCBhY3RvcnNJZHM6IEFycmF5PHN0cmluZz4gPSBbXTtcclxuXHRcdFx0XHRmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgYWN0b3JzQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGxldCBlbmNvZGVkQWN0b3JzOiBzdHJpbmcgPSBlbmNvZGVVUklDb21wb25lbnQoYWN0b3JzQXJyYXlbaV0pO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmFjdG9yVXJsfSZxdWVyeT0ke2VuY29kZWRBY3RvcnN9YCk7XHJcblx0XHRcdFx0XHRpZiAocmVzdWx0cy5vaykge1xyXG5cdFx0XHRcdFx0XHRsZXQganNvblJlc3VsdHM6IGFueSA9IGF3YWl0IHJlc3VsdHMuanNvbigpO1xyXG5cdFx0XHRcdFx0XHRhY3RvcnNJZHMucHVzaChqc29uUmVzdWx0cy5yZXN1bHRzWzBdLmlkKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGFjdG9yc0lkcy50b1N0cmluZygpO1xyXG5cdFx0XHRcdHRoaXMuZ2xvYmFsVXJsID0gdGhpcy5nbG9iYWxVcmwuY29uY2F0KGAmd2l0aF9jYXN0PSR7YWN0b3JzSWRzfWApO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRhc3luYyBhcHBlbmRDYXRlZ29yeUlmRGVmaW5lZChjYXRlZ29yeTogc3RyaW5nKSB7XHJcblx0XHRpZiAoY2F0ZWdvcnkpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb25zdCBjYXRlZ29yeUlkczogQXJyYXk8c3RyaW5nPiA9IFtdO1xyXG5cdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmNhdGVnb3J5VXJsfWApO1xyXG5cdFx0XHRcdGNvbnN0IGNhdGVnb3JpZXM6IEFycmF5PHN0cmluZz4gPSB0aGlzLnN0cmluZ1V0aWxzLnNwbGl0TmFtZXMoY2F0ZWdvcnkpO1xyXG5cclxuXHRcdFx0XHRpZiAocmVzdWx0cy5vaykge1xyXG5cdFx0XHRcdFx0Y29uc3QganNvblJlc3VsdCA9IGF3YWl0IHJlc3VsdHMuanNvbigpO1xyXG5cdFx0XHRcdFx0Y29uc3QgY2F0ZWdvcnlMaXN0OiBBcnJheTxhbnk+ID0ganNvblJlc3VsdC5nZW5yZXM7XHJcblx0XHRcdFx0XHRjYXRlZ29yeUxpc3QuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG5cdFx0XHRcdFx0XHRjYXRlZ29yaWVzLmZvckVhY2goKGVsZW0pID0+IHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZWxlbWVudC5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNhdGVnb3J5SWRzLnB1c2goZWxlbWVudC5pZCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gY2F0ZWdvcnlJZHMudG9TdHJpbmcoKTtcclxuXHJcblx0XHRcdFx0aWYgKGNhdGVnb3J5SWRzLmxlbmd0aCAhPT0gMCkge1xyXG5cdFx0XHRcdFx0dGhpcy5nbG9iYWxVcmwgPSB0aGlzLmdsb2JhbFVybC5jb25jYXQoYCZ3aXRoX2dlbnJlcz0ke2NhdGVnb3J5SWRzfWApO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJHbG9iYWwgdXJsXCIsIHRoaXMuZ2xvYmFsVXJsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdGFwcGVuZFllYXJJZkRlZmluZWQoeWVhcjogbnVtYmVyKSB7XHJcblx0XHRpZiAoeWVhcikge1xyXG5cdFx0XHR0aGlzLmdsb2JhbFVybCA9IHRoaXMuZ2xvYmFsVXJsLmNvbmNhdChgJnllYXI9JHt5ZWFyfWApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRhcHBlbmRSYXRpbmdJZkRlZmluZWQocmF0aW5nOiBudW1iZXIpIHtcclxuXHRcdGlmIChyYXRpbmcpIHtcclxuXHRcdFx0dGhpcy5nbG9iYWxVcmwgPSB0aGlzLmdsb2JhbFVybC5jb25jYXQoYCZ2b3RlX2F2ZXJhZ2UuZ3RlPSR7cmF0aW5nfWApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRnZXRHbG9iYWxVcmwoKSB7XHJcblx0XHRpZiAodGhpcy5nbG9iYWxVcmwgIT09IHRoaXMuZGlzY292ZXJVcmwpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2xvYmFsVXJsO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVzdWx0QnVpbGRlclNlcnZpY2UgfSBmcm9tIFwiLi9yZXN1bHQtYnVpbGRlci1zZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFNlYXJjaFNlcnZpY2UgfSBmcm9tIFwiLi9zZWFyY2gtc2VydmljZVwiO1xyXG5cclxuLy8gaW1wb3J0IHsgQXdha2VIaWRlQ29udGFpbmVyIH0gZnJvbSAnLi9hd2FrZS1oaWRlLmpzJztcclxuXHJcbmltcG9ydCB7IFRvb2x0aXBTZXJ2aWNlcyB9IGZyb20gXCIuL3Rvb2x0aXAtc2VydmljZXNcIjtcclxuaW1wb3J0IHsgTW92aWVDb250cm9sbGVyIH0gZnJvbSBcIi4uL0NvbnRyb2xsZXJzL21vdmllLWNvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgTG9jYWxTdG9yYWdlU2VydmljZSB9IGZyb20gXCIuL2xvY2FsLXN0b3JhZ2Utc2VydmljZVwiO1xyXG5cclxuLy8gZXhwb3J0IGNsYXNzIENyZWF0ZVNlcnZpY2VzIHtcclxuLy8gICAgIGNvbnN0cnVjdG9yKCl7XHJcbi8vICAgICAgICAgdGhpcy5zZWFyY2hTZXJ2aWNlID0gbmV3IFNlYXJjaFNlcnZpY2UoKTtcclxuLy8gICAgICAgICB0aGlzLnJlc3VsdEJ1aWxkZXJTZXJ2aWNlID0gbmV3IFJlc3VsdEJ1aWxkZXJTZXJ2aWNlKCk7XHJcbi8vICAgICAgICAgdGhpcy50b29sdGlwU2VydmljZXMgPSBuZXcgVG9vbHRpcFNlcnZpY2VzKCk7XHJcbi8vICAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2VTZXJ2aWNlcyA9IG5ldyBMb2NhbFN0b3JhZ2VTZXJ2aWNlKCk7XHJcbi8vICAgICAgICAgdGhpcy5tb3ZpZUNvbnRyb2xsZXIgPSBuZXcgTW92aWVDb250cm9sbGVyKCk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuZXhwb3J0IGNvbnN0IHNlYXJjaFNlcnZpY2UgPSBuZXcgU2VhcmNoU2VydmljZSgpO1xyXG5leHBvcnQgY29uc3QgcmVzdWx0QnVpbGRlclNlcnZpY2UgPSBuZXcgUmVzdWx0QnVpbGRlclNlcnZpY2UoKTtcclxuZXhwb3J0IGNvbnN0IHRvb2x0aXBTZXJ2aWNlcyA9IG5ldyBUb29sdGlwU2VydmljZXMoKTtcclxuZXhwb3J0IGNvbnN0IGxvY2FsU3RvcmFnZVNlcnZpY2VzID0gbmV3IExvY2FsU3RvcmFnZVNlcnZpY2UoKTtcclxuZXhwb3J0IGNvbnN0IG1vdmllQ29udHJvbGxlciA9IG5ldyBNb3ZpZUNvbnRyb2xsZXIoKTtcclxuIiwiXHJcblxyXG5pbXBvcnQgeyBVcmxCdWlsZGVyU2VydmljZSB9IGZyb20gJy4vdXJsLWJ1aWxkZXItc2VydmljZSc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNlYXJjaFNlcnZpY2Uge1xyXG4gICAgbW92aWVUaXRsZVVybDpzdHJpbmc7XHJcbiAgICBhcGlLZXk6c3RyaW5nO1xyXG4gICAgdXJsQnVpbGRlclNlcnZpY2U6YW55O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5tb3ZpZVRpdGxlVXJsID0gJ2h0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvc2VhcmNoL21vdmllJztcclxuICAgICAgICB0aGlzLmFwaUtleSA9ICdlNzNjYzlhMWQzNTk3M2IzZTg5YTM0YmJhNTAyNjYzYyc7XHJcbiAgICAgICAgdGhpcy51cmxCdWlsZGVyU2VydmljZSA9IG5ldyBVcmxCdWlsZGVyU2VydmljZSgpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgc2VhcmNoVGl0bGUobW92aWVUaXRsZTpzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGVuY29kZWRNb3ZpZVRpdGxlOnN0cmluZyA9IGVuY29kZVVSSUNvbXBvbmVudChtb3ZpZVRpdGxlKTtcclxuICAgICAgICAgICAgbGV0IGVuZHBvaW50TW92aWVUaXRsZTpzdHJpbmcgPSBgJHt0aGlzLm1vdmllVGl0bGVVcmx9P2FwaV9rZXk9JHt0aGlzLmFwaUtleX0mcXVlcnk9JHtlbmNvZGVkTW92aWVUaXRsZX1gO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlUmVzdWx0czphbnkgPSBhd2FpdCBmZXRjaChlbmRwb2ludE1vdmllVGl0bGUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHRpdGxlUmVzdWx0cy5vaykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QganNvblRpdGxlUmVzdWx0OmFueSA9IGF3YWl0IHRpdGxlUmVzdWx0cy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25UaXRsZVJlc3VsdC5yZXN1bHRzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdCBmYWlsZWQhJyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgIFxyXG4gICAgYXN5bmMgc2VhcmNoKHllYXI6bnVtYmVyLCByYXRpbmc6bnVtYmVyLCBhY3RvcnM6c3RyaW5nLCBjYXRlZ29yeTpzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLnVybEJ1aWxkZXJTZXJ2aWNlLmluaXQoKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy51cmxCdWlsZGVyU2VydmljZS5hcHBlbmRZZWFySWZEZWZpbmVkKHllYXIpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVybEJ1aWxkZXJTZXJ2aWNlLmFwcGVuZFJhdGluZ0lmRGVmaW5lZChyYXRpbmcpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVybEJ1aWxkZXJTZXJ2aWNlLmFwcGVuZEFjdG9yc0lmRGVmaW5lZChhY3RvcnMpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVybEJ1aWxkZXJTZXJ2aWNlLmFwcGVuZENhdGVnb3J5SWZEZWZpbmVkKGNhdGVnb3J5KTtcclxuICAgICAgICAgICAgY29uc3QgdXJsOnN0cmluZyA9IGF3YWl0IHRoaXMudXJsQnVpbGRlclNlcnZpY2UuZ2V0R2xvYmFsVXJsKCk7XHJcbiAgICAgICAgICAgIGlmKCF1cmwpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBmZXRjaCh1cmwpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHJlc3VsdHMub2spIHtcclxuICAgICAgICAgICAgICAgIGxldCBqc29uUmVzdWx0OmFueSA9IGF3YWl0IHJlc3VsdHMuanNvbigpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25SZXN1bHQucmVzdWx0cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbiIsImltcG9ydCB7IFRvb2x0aXBTZXJ2aWNlcyB9IGZyb20gXCIuL3Rvb2x0aXAtc2VydmljZXNcIjtcclxuaW1wb3J0IHsgUmVzdWx0cyB9IGZyb20gXCIuLi9Nb2RlbC9yZXN1bHRzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFJlc3VsdEJ1aWxkZXJTZXJ2aWNlIHtcclxuICAgIGJvZHk6SFRNTEVsZW1lbnQ7XHJcbiAgICB0b29sdGlwU2VydmljZXM6YW55O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgICAgICB0aGlzLnRvb2x0aXBTZXJ2aWNlcyA9IG5ldyBUb29sdGlwU2VydmljZXMoKTtcclxuXHJcblxyXG4gICAgfVxyXG4gICAgbm9SZXN1bHQoKTp2b2lkIHtcclxuICAgICAgICBjb25zdCBib2R5OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vUmVzdWx0czpIVE1MSGVhZGluZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xyXG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQobm9SZXN1bHRzKTtcclxuICAgICAgICBub1Jlc3VsdHMuc2V0QXR0cmlidXRlKCdpZCcsICdub1Jlc3VsdHNNZXNzYWdlJyk7XHJcbiAgICAgICAgbm9SZXN1bHRzLmlubmVySFRNTCA9ICdObyBtb3ZpZXMgbWF0Y2ggeW91ciBzZWFyY2ghJztcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGJ1aWxkKHRpdGxlUmVzdWx0czpBcnJheTxSZXN1bHRzPiwgc2VhcmNoUmVzdWx0czogQXJyYXk8UmVzdWx0cz4pOlByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1heExlbmd0aCA6YW55ID0gdGhpcy5yZXR1cm5NYXhMZW5ndGgodGl0bGVSZXN1bHRzLCBzZWFyY2hSZXN1bHRzKTtcclxuICAgICAgICBjb25zdCBib2R5IDpIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdib2R5Jyk7XHJcbiAgICAgICAgY29uc3QgbW92aWVSZXN1bHRzIDpIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lck5hbWVEZWZhdWx0OnN0cmluZyA9IFwibW92aWVSZXN1bHRzXCI7XHJcbiAgICAgICAgYm9keS5hcHBlbmRDaGlsZChtb3ZpZVJlc3VsdHMpO1xyXG4gICAgICAgIG1vdmllUmVzdWx0cy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ21vdmllUmVzdWx0cycpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpOm51bWJlciA9IDA7IGkgPCBtYXhMZW5ndGgudGl0bGVNYXhMZW5naHQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB0b29sdGlwID0gYXdhaXQgdGhpcy50b29sdGlwU2VydmljZXMuY3JlYXRlVG9vbHRpcERhdGEodGl0bGVSZXN1bHRzW2ldKTtcclxuICAgICAgICAgICAgY29uc3QgZmF2b3JpdGVzQnV0dG9uID0gdGhpcy50b29sdGlwU2VydmljZXMuY3JlYXRlRmF2b3JpdGVzQnV0dG9uKHRvb2x0aXAubW92aWVJZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhmYXZvcml0ZXNCdXR0b24pXHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRNb3ZpZUNhcmQodG9vbHRpcCwgZmF2b3JpdGVzQnV0dG9uLCBjb250YWluZXJOYW1lRGVmYXVsdCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBqOm51bWJlciA9IDA7IGogPCBtYXhMZW5ndGguc2VhcmNoUmVzdWx0c01heExlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2x0aXAgPSBhd2FpdCB0aGlzLnRvb2x0aXBTZXJ2aWNlcy5jcmVhdGVUb29sdGlwRGF0YSh0aXRsZVJlc3VsdHNbal0pO1xyXG4gICAgICAgICAgICBjb25zdCBmYXZvcml0ZXNCdXR0b24gPSB0aGlzLnRvb2x0aXBTZXJ2aWNlcy5jcmVhdGVGYXZvcml0ZXNCdXR0b24odG9vbHRpcC5tb3ZpZUlkLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRNb3ZpZUNhcmQodG9vbHRpcCwgZmF2b3JpdGVzQnV0dG9uLCBjb250YWluZXJOYW1lRGVmYXVsdCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBidWlsZE1vdmllQ2FyZCh0b29sdGlwT2JqZWN0OlBhcnRpYWw8UmVzdWx0cz4sIGZhdm9yaXRlc0J1dHRvbk9iamVjdDpQYXJ0aWFsPFJlc3VsdHM+LCBwYXJlbnRDb250YWluZXJOYW1lOnN0cmluZyk6dm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2J1aWxkIG1vdmllIGNhcmQnKTtcclxuXHJcbiAgICAgICAgY29uc3QgbW92aWVSZXN1bHRzOkhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cGFyZW50Q29udGFpbmVyTmFtZX1gKTtcclxuICAgICAgICBjb25zdCBtb3ZpZUNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjb25zdCBpbWc6IEhUTUxJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICBjb25zdCBoMTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdIMScpO1xyXG4gICAgICAgIGNvbnN0IG1vdmllSWQgOiBudW1iZXIgPSB0b29sdGlwT2JqZWN0LmlkO1xyXG5cclxuXHJcbiAgICAgICAgbW92aWVDb250YWluZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICdtb3ZpZUNvbnRhaW5lcicpO1xyXG4gICAgICAgIG1vdmllQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCBgJHttb3ZpZUlkfWApXHJcbiAgICAgICAgbW92aWVSZXN1bHRzLmFwcGVuZENoaWxkKG1vdmllQ29udGFpbmVyKTtcclxuICAgICAgICBtb3ZpZUNvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgIG1vdmllQ29udGFpbmVyLmFwcGVuZENoaWxkKGgxKTtcclxuXHJcbiAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbW92aWVQb3N0ZXInKTtcclxuICAgICAgICBoMS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ21vdmllVGl0bGUnKTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0b29sdGlwT2JqZWN0LnBvc3Rlcl9wYXRoKSB7XHJcbiAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC9vcmlnaW5hbC8ke3Rvb2x0aXBPYmplY3QucG9zdGVyX3BhdGh9YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2h0dHBzOi8vbXltZGIuY29teW4ucHcvaW1nL3Bvc3RlcnMvbm9wb3N0ZXIuanBnJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgaDEuaW5uZXJIVE1MID0gYCR7dG9vbHRpcE9iamVjdC50aXRsZX0gYDtcclxuICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICBoMS5pbm5lckhUTUwgPSBgJHt0b29sdGlwT2JqZWN0Lm5hbWV9IGA7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMudG9vbHRpcFNlcnZpY2VzLmNyZWF0ZVRvb2x0aXAodG9vbHRpcE9iamVjdCwgZmF2b3JpdGVzQnV0dG9uT2JqZWN0KTtcclxuICAgICAgICBjb25zdCBmYXZvcml0ZXNCdXR0b246IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmF2b3JpdGVzQnV0dG9uT2JqZWN0LmZhdm9yaXRlc0J1dHRvbklkKTtcclxuXHJcbiAgICAgICAgbW92aWVDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW1nUmVjdDpDbGllbnRSZWN0ID0gKGV2ZW50LnRhcmdldCBhcyBIVE1MSW1hZ2VFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgdGhpcy50b29sdGlwU2VydmljZXMuc2hvd1Rvb2x0aXAodG9vbHRpcE9iamVjdCwgaW1nUmVjdCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1vdmllQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIChlOk1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW1nUmVjdDogQ2xpZW50UmVjdCA9IChlLnRhcmdldCBhcyBIVE1MSW1hZ2VFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgdGhpcy50b29sdGlwU2VydmljZXMuc2hvd0Zhdm9yaXRlc0J1dHRvbih0b29sdGlwT2JqZWN0LCBmYXZvcml0ZXNCdXR0b25PYmplY3QsIGltZ1JlY3QpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZmF2b3JpdGVzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50Ok1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYoZmF2b3JpdGVzQnV0dG9uT2JqZWN0LmZhdm9yaXRlc0J1dHRvblN0YXRlID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICBmYXZvcml0ZXNCdXR0b25PYmplY3QuZmF2b3JpdGVzQnV0dG9uU3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZmF2b3JpdGVzQnV0dG9uT2JqZWN0LmZhdm9yaXRlc0J1dHRvblN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50b29sdGlwU2VydmljZXMudG9nZ2xlRmF2b3JpdGVzQnV0dG9uKHRvb2x0aXBPYmplY3QsIGZhdm9yaXRlc0J1dHRvbk9iamVjdCk7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbW92aWVDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy50b29sdGlwU2VydmljZXMuaGlkZVRvb2x0aXAodG9vbHRpcE9iamVjdCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICBtb3ZpZUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBlID0+IHtcclxuICAgICAgICAgICAgdGhpcy50b29sdGlwU2VydmljZXMuaGlkZUZhdm9yaXRlc0J1dHRvbihmYXZvcml0ZXNCdXR0b25PYmplY3QpO1xyXG4gICAgICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICByZXR1cm5NYXhMZW5ndGgodGl0bGU6QXJyYXk8YW55Piwgc2VhcmNoUmVzdWx0czogQXJyYXk8YW55Pik6YW55IHtcclxuICAgICAgICBpZiAodGl0bGUubGVuZ3RoID4gMTAgJiYgc2VhcmNoUmVzdWx0cy5sZW5ndGggPiAxMCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdGl0bGVNYXhMZW5naHQ6IDEwLFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0c01heExlbmd0aDogMTBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRpdGxlLmxlbmd0aCA8IDEwICYmIHNlYXJjaFJlc3VsdHMubGVuZ3RoID4gMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRpdGxlTWF4TGVuZ2h0OiB0aXRsZS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHRzTWF4TGVuZ3RoOiAyMCAtIHRpdGxlLmxlbmd0aFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aXRsZS5sZW5ndGggPiAxMCAmJiBzZWFyY2hSZXN1bHRzLmxlbmd0aCA8IDEwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZU1heExlbmdodDogMjAgLSBzZWFyY2hSZXN1bHRzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdHNNYXhMZW5ndGg6IHNlYXJjaFJlc3VsdHMubGVuZ3RoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRpdGxlLmxlbmd0aCA8IDEwICYmIHNlYXJjaFJlc3VsdHMubGVuZ3RoIDwgMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHRpdGxlTWF4TGVuZ2h0OiB0aXRsZS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHRzTWF4TGVuZ3RoOiBzZWFyY2hSZXN1bHRzLmxlbmd0aFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aXRsZS5sZW5ndGggPSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWFyY2hSZXN1bHRzLmxlbmd0aCA9IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVNYXhMZW5naHQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0c01heExlbmd0aDogMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID4gMjApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVNYXhMZW5naHQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0c01heExlbmd0aDogMjBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVNYXhMZW5naHQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUmVzdWx0c01heExlbmd0aDogc2VhcmNoUmVzdWx0cy5sZW5ndGhcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID0gMCkge1xyXG4gICAgICAgICAgICBpZiAodGl0bGUubGVuZ3RoID4gMjApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVNYXhMZW5naHQ6IDIwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdHNNYXhMZW5ndGg6IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGVNYXhMZW5naHQ6IHRpdGxlLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHRzTWF4TGVuZ3RoOiAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBzZWFyY2hTZXJ2aWNlLCByZXN1bHRCdWlsZGVyU2VydmljZSwgdG9vbHRpcFNlcnZpY2VzLCBsb2NhbFN0b3JhZ2VTZXJ2aWNlcyB9IGZyb20gXCIuLi9TZXJ2aWNlcy9jcmVhdGUtc2VydmljZXNcIjtcclxuaW1wb3J0IHsgRmllbGRSdWxlcyB9IGZyb20gXCIuL2ZpZWxkLXJ1bGVzXCI7XHJcbmltcG9ydCB7IGNsZWFyQWxsSW5wdXRzIH0gZnJvbSBcIi4uL1NlcnZpY2VzL3JlbW92ZS1pbnB1dC12YWx1ZVwiO1xyXG5pbXBvcnQgeyBTbmFja0JhciB9IGZyb20gXCIuLi9TZXJ2aWNlcy9zbmFrLWJhclwiO1xyXG5pbXBvcnQgeyBSZXN1bHRzIH0gZnJvbSBcIi4uL01vZGVsL3Jlc3VsdHNcIjtcclxuaW1wb3J0IHsgRG9tVXRpbHMgfSBmcm9tIFwiLi4vU2VydmljZXMvZG9tVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZpZUNvbnRyb2xsZXIge1xyXG5cdGNvbnN0cnVjdG9yKCkge31cclxuXHRjbGVhbigpIHtcclxuXHRcdGxldCBtb3ZpZVJlc3VsdHM6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb3ZpZVJlc3VsdHNcIik7XHJcblx0XHRpZiAoISFtb3ZpZVJlc3VsdHMpIHtcclxuXHRcdFx0bW92aWVSZXN1bHRzLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdFx0bGV0IG5vUmVzdWx0c01lc3NhZ2U6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub1Jlc3VsdHNNZXNzYWdlXCIpO1xyXG5cdFx0aWYgKCEhbm9SZXN1bHRzTWVzc2FnZSkge1xyXG5cdFx0XHRub1Jlc3VsdHNNZXNzYWdlLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdFx0bGV0IGZhdm9yaXRlTW92aWVzOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmF2b3JpdGVNb3ZpZXNcIik7XHJcblx0XHRsZXQgY2hpbGQgPSBmYXZvcml0ZU1vdmllcy5sYXN0RWxlbWVudENoaWxkO1xyXG5cdFx0d2hpbGUgKGNoaWxkKSB7XHJcblx0XHRcdGZhdm9yaXRlTW92aWVzLnJlbW92ZUNoaWxkKGNoaWxkKTtcclxuXHRcdFx0Y2hpbGQgPSBmYXZvcml0ZU1vdmllcy5sYXN0RWxlbWVudENoaWxkO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRhc3luYyBzZWFyY2goKTogUHJvbWlzZTx2b2lkPiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRsZXQgdGl0bGU6IHN0cmluZyA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaFRpdGxlSW5wdXRcIikpLnZhbHVlO1xyXG5cdFx0XHRsZXQgeWVhcjogbnVtYmVyID0gKCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaFllYXJJbnB1dFwiKSkudmFsdWUgYXMgYW55KSBhcyBudW1iZXI7XHJcblx0XHRcdGxldCBjYXRlZ29yeTogc3RyaW5nID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoQ2F0ZWdvcnlJbnB1dFwiKSkudmFsdWU7XHJcblx0XHRcdGxldCByYXRpbmc6IG51bWJlciA9ICgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hSYXRpbmdJbnB1dFwiKSkudmFsdWUgYXMgYW55KSBhcyBudW1iZXI7XHJcblx0XHRcdGxldCBhY3RvcnM6IHN0cmluZyA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaEFjdG9yc0lucHV0XCIpKS52YWx1ZTtcclxuXHJcblx0XHRcdGlmICghdGl0bGUgJiYgIXllYXIgJiYgIWNhdGVnb3J5ICYmICFyYXRpbmcgJiYgIWFjdG9ycykge1xyXG5cdFx0XHRcdHJlc3VsdEJ1aWxkZXJTZXJ2aWNlLm5vUmVzdWx0KCk7XHJcblx0XHRcdH0gZWxzZSBpZiAoIXRpdGxlKSB7XHJcblx0XHRcdFx0Y29uc3QgcmVzdWx0czogQXJyYXk8UmVzdWx0cz4gPSBhd2FpdCBzZWFyY2hTZXJ2aWNlLnNlYXJjaCh5ZWFyLCByYXRpbmcsIGFjdG9ycywgY2F0ZWdvcnkpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdHMpO1xyXG5cdFx0XHRcdGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0cmVzdWx0QnVpbGRlclNlcnZpY2Uubm9SZXN1bHQoKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmVzdWx0QnVpbGRlclNlcnZpY2UuYnVpbGQoW10sIHJlc3VsdHMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICgheWVhciAmJiAhY2F0ZWdvcnkgJiYgIXJhdGluZyAmJiAhYWN0b3JzKSB7XHJcblx0XHRcdFx0bGV0IHRpdGxlUmVzdWx0czogQXJyYXk8UmVzdWx0cz4gPSBhd2FpdCBzZWFyY2hTZXJ2aWNlLnNlYXJjaFRpdGxlKHRpdGxlKTtcclxuXHJcblx0XHRcdFx0aWYgKHRpdGxlUmVzdWx0cy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdHJlc3VsdEJ1aWxkZXJTZXJ2aWNlLm5vUmVzdWx0KCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdEJ1aWxkZXJTZXJ2aWNlLmJ1aWxkKHRpdGxlUmVzdWx0cywgW10pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRsZXQgdGl0bGVSZXN1bHRzID0gYXdhaXQgc2VhcmNoU2VydmljZS5zZWFyY2hUaXRsZSh0aXRsZSk7XHJcblx0XHRcdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHNlYXJjaFNlcnZpY2Uuc2VhcmNoKHllYXIsIHJhdGluZywgYWN0b3JzLCBjYXRlZ29yeSk7XHJcblxyXG5cdFx0XHRcdHJlc3VsdEJ1aWxkZXJTZXJ2aWNlLmJ1aWxkKHRpdGxlUmVzdWx0cywgcmVzdWx0cyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdERvbVV0aWxzLmNsZWFySW5wdXRzKFtcInNlYXJjaFRpdGxlSW5wdXRcIiwgXCJzZWFyY2hZZWFySW5wdXRcIiwgXCJzZWFyY2hDYXRlZ29yeUlucHV0XCIsIFwic2VhcmNoUmF0aW5nSW5wdXRcIiwgXCJzZWFyY2hBY3RvcnNJbnB1dFwiXSk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHR9XHJcblx0fVxyXG5cdC8vIGFkZCgpIHtcclxuXHQvLyAgICAgbGV0IHRpdGxlOnN0cmluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRUaXRsZUlucHV0JykudmFsdWU7XHJcblx0Ly8gICAgIGxldCBjYXRlZ29yeTpzdHJpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkQ2F0ZWdvcnlJbnB1dCcpLnZhbHVlO1xyXG5cdC8vICAgICBsZXQgcmF0aW5nOm51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRSYXRpbmdJbnB1dCcpLnZhbHVlIGFzIGFueSBhcyBudW1iZXI7XHJcblx0Ly8gICAgIGxldCB5ZWFyOm51bWJlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRZZWFySW5wdXQnKS52YWx1ZSBhcyBhbnkgYXMgbnVtYmVyO1xyXG5cdC8vICAgICBsZXQgYWN0b3JzOnN0cmluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRBY3RvcnNJbnB1dCcpLnZhbHVlO1xyXG5cdC8vICAgICBsZXQgZmllbGRSdWxlczphbnkgPSBuZXcgRmllbGRSdWxlcygpO1xyXG5cclxuXHQvLyAgICAgZm9yIChjb25zdCBmaWVsZEtleSBpbiBmaWVsZFJ1bGVzKSB7XHJcblx0Ly8gICAgICAgICBjb25zdCBmaWVsZFJ1bGU6YW55ID0gZmllbGRSdWxlc1tmaWVsZEtleV07XHJcblx0Ly8gICAgICAgICBjb25zdCBmaWVsZFZhbHVlOkhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRSdWxlLmZpZWxkSWQpO1xyXG5cdC8vICAgICAgICAgY29uc3QgZXJyb3JMYWJlbDpIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZpZWxkUnVsZS5lcnJvcklkKTtcclxuXHQvLyAgICAgICAgIGNvbnN0IGlucHV0OkhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRSdWxlLmZpZWxkSWQpO1xyXG5cdC8vICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnaW5wdXRFcnJvcicpO1xyXG5cdC8vICAgICAgICAgZXJyb3JMYWJlbC5pbm5lckhUTUwgPSBcIlwiO1xyXG5cclxuXHQvLyAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRSdWxlLnJ1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0Ly8gICAgICAgICAgICAgbGV0IHJ1bGUgPSBmaWVsZFJ1bGUucnVsZXNbaV07XHJcblx0Ly8gICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHJ1bGUuaXNWYWxpZChmaWVsZFZhbHVlLnZhbHVlKTtcclxuXHJcblx0Ly8gICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25SZXN1bHQuaXNWYWxpZCkge1xyXG5cdC8vICAgICAgICAgICAgICAgICBmaWVsZFJ1bGUuaW5wdXRPayA9IHRydWU7XHJcblx0Ly8gICAgICAgICAgICAgfVxyXG5cdC8vICAgICAgICAgICAgIGVsc2Uge1xyXG5cdC8vICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckxhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRSdWxlLmVycm9ySWQpO1xyXG5cdC8vICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZpZWxkUnVsZS5maWVsZElkKTtcclxuXHQvLyAgICAgICAgICAgICAgICAgZXJyb3JMYWJlbC5pbm5lckhUTUwgPSB2YWxpZGF0aW9uUmVzdWx0LmVycm9yTWVzc2FnZTtcclxuXHQvLyAgICAgICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnaW5wdXRFcnJvcicpO1xyXG5cdC8vICAgICAgICAgICAgICAgICBmaWVsZFJ1bGUuaW5wdXRPayA9IGZhbHNlO1xyXG5cdC8vICAgICAgICAgICAgICAgICBicmVhaztcclxuXHQvLyAgICAgICAgICAgICB9XHJcblxyXG5cdC8vICAgICAgICAgfVxyXG5cdC8vICAgICB9XHJcblx0Ly8gICAgIGxldCBjb3VudCA9IDA7XHJcblx0Ly8gICAgIGZvciAoY29uc3QgZmllbGRLZXkgaW4gZmllbGRSdWxlcykge1xyXG5cdC8vICAgICAgICAgY29uc3QgZmllbGRSdWxlID0gZmllbGRSdWxlc1tmaWVsZEtleV07XHJcblxyXG5cdC8vICAgICAgICAgaWYgKGZpZWxkUnVsZS5pbnB1dE9rID09PSB0cnVlKSB7XHJcblx0Ly8gICAgICAgICAgICAgY291bnQgPSBjb3VudCArIDE7XHJcblx0Ly8gICAgICAgICB9XHJcblxyXG5cdC8vICAgICB9O1xyXG5cdC8vICAgICBpZiAoY291bnQgPT09IDUpIHtcclxuXHQvLyAgICAgICAgIGNvbnN0IG5ld01vdmllOmFueSA9IG5ldyBNb3ZpZSh0aXRsZSwgY2F0ZWdvcnksIHJhdGluZywgeWVhciwgYWN0b3JzKTtcclxuXHQvLyAgICAgICAgIG1vdmllcy5wdXNoKG5ld01vdmllKTtcclxuXHQvLyAgICAgICAgIGNvbnNvbGUubG9nKG5ld01vdmllKTtcclxuXHQvLyAgICAgICAgIGxldCBzbmFja0JhciA9IG5ldyBTbmFja0JhcigpO1xyXG5cdC8vICAgICAgICAgc25hY2tCYXIuY3JlYXRlKCdNb3ZpZSB3YXMgc3VjY2VzZnVsbHkgYWRkZWQhJyk7XHJcblx0Ly8gICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgc25hY2tCYXIuZGVsZXRlKCkgfSwgMzAwMCk7XHJcblxyXG5cdC8vICAgICAgICAgY29uc29sZS5sb2cobW92aWVzKTtcclxuXHQvLyAgICAgICAgIGNsZWFyQWxsSW5wdXRzLmNsZWFyKCk7XHJcblx0Ly8gICAgIH1cclxuXHJcblx0Ly8gICAgIHJldHVybiBtb3ZpZXM7XHJcblx0Ly8gfVxyXG5cclxuXHRhc3luYyBmYXZvcml0ZXMoKSB7XHJcblx0XHRjb25zdCBmYXZvcml0ZU1vdmllcyA9IGxvY2FsU3RvcmFnZVNlcnZpY2VzLnVucGFja01vdmllUGFja2FnZSgpO1xyXG5cclxuXHRcdGlmIChmYXZvcml0ZU1vdmllcy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0cmVzdWx0QnVpbGRlclNlcnZpY2Uubm9SZXN1bHQoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZmF2b3JpdGVNb3ZpZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRjb25zdCB0b29sdGlwT2JqZWN0ID0gYXdhaXQgdG9vbHRpcFNlcnZpY2VzLmNyZWF0ZVRvb2x0aXBEYXRhKGZhdm9yaXRlTW92aWVzW2ldKTtcclxuXHRcdFx0XHRjb25zdCBmYXZvcml0ZUJ1dHRvbk9iamVjdCA9IHRvb2x0aXBTZXJ2aWNlcy5jcmVhdGVGYXZvcml0ZXNCdXR0b24oZmF2b3JpdGVNb3ZpZXNbaV0ubW92aWVJZCwgZmF2b3JpdGVNb3ZpZXNbaV0uZmF2b3JpdGVzQnV0dG9uU3RhdGUpO1xyXG5cdFx0XHRcdHJlc3VsdEJ1aWxkZXJTZXJ2aWNlLmJ1aWxkTW92aWVDYXJkKHRvb2x0aXBPYmplY3QsIGZhdm9yaXRlQnV0dG9uT2JqZWN0LCBcImZhdm9yaXRlTW92aWVzXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBEb21VdGlscyB7XHJcblx0c3RhdGljIGNsZWFySW5wdXRzKGlucHV0SWRzOiBzdHJpbmdbXSkge1xyXG5cdFx0aW5wdXRJZHMuZm9yRWFjaCgoaW5wdXRJZDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dElkKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IFwiXCI7XHJcblx0XHR9KTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHsgQXdha2VIaWRlQ29udGFpbmVyIH0gZnJvbSBcIi4uL1NlcnZpY2VzL2F3YWtlLWhpZGVcIjtcclxuaW1wb3J0IHsgbW92aWVDb250cm9sbGVyIH0gZnJvbSBcIi4uL1NlcnZpY2VzL2NyZWF0ZS1zZXJ2aWNlc1wiO1xyXG5cclxuY2xhc3MgQXBwSW5pdGlhbGl6YXRpb25TZXJ2aWNlIHtcclxuXHRhd2FrZUhpZGVDb250YWluZXI6IGFueTtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuYXdha2VIaWRlQ29udGFpbmVyID0gbmV3IEF3YWtlSGlkZUNvbnRhaW5lcigpO1xyXG5cdH1cclxuXHRpbnRpYWxpemUoKSB7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlYXJjaEJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbW92aWVDb250cm9sbGVyLnNlYXJjaCk7XHJcblxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzZWFyY2hQYWdlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmF3YWtlSGlkZUNvbnRhaW5lci5oaWRlQWRkQ29udGFpbmVyKTtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2VhcmNoUGFnZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5hd2FrZUhpZGVDb250YWluZXIuaGlkZUZhdm9yaXRlc0NvbnRhaW5lcik7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlYXJjaFBhZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuYXdha2VIaWRlQ29udGFpbmVyLmF3YWtlU2VhcmNoQ29udGFpbmVyKTtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2VhcmNoUGFnZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5hd2FrZUhpZGVDb250YWluZXIuYXdha2VTZWFyY2hDb250YWluZXIpO1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzZWFyY2hQYWdlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBtb3ZpZUNvbnRyb2xsZXIuY2xlYW4pO1xyXG5cclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkTW92aWVQYWdlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmF3YWtlSGlkZUNvbnRhaW5lci5hd2FrZUFkZENvbnRhaW5lcik7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZE1vdmllUGFnZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5hd2FrZUhpZGVDb250YWluZXIuaGlkZVNlYXJjaENvbnRhaW5lcik7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZE1vdmllUGFnZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5hd2FrZUhpZGVDb250YWluZXIuaGlkZUZhdm9yaXRlc0NvbnRhaW5lcik7XHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZE1vdmllUGFnZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbW92aWVDb250cm9sbGVyLmNsZWFuKTtcclxuXHJcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zhdm9yaXRlTW92aWVQYWdlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmF3YWtlSGlkZUNvbnRhaW5lci5oaWRlQWRkQ29udGFpbmVyKTtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmF2b3JpdGVNb3ZpZVBhZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuYXdha2VIaWRlQ29udGFpbmVyLmhpZGVTZWFyY2hDb250YWluZXIpO1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmYXZvcml0ZU1vdmllUGFnZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5hd2FrZUhpZGVDb250YWluZXIuYXdha2VGYXZvcml0ZXNDb250YWluZXIpO1xyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmYXZvcml0ZU1vdmllUGFnZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbW92aWVDb250cm9sbGVyLmNsZWFuKTtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZmF2b3JpdGVNb3ZpZVBhZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG1vdmllQ29udHJvbGxlci5mYXZvcml0ZXMpO1xyXG5cclxuXHRcdC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGRCdXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmllQ29udHJvbGxlci5hZGQpO1xyXG5cdH1cclxufVxyXG5cclxuY29uc3QgYXBwSW5pdGlhbGl6YXRpb25TZXJ2aWNlID0gbmV3IEFwcEluaXRpYWxpemF0aW9uU2VydmljZSgpO1xyXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZSA9IGFwcEluaXRpYWxpemF0aW9uU2VydmljZS5pbnRpYWxpemUoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==